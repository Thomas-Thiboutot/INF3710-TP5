<body>
<h1 id="page-title">Ajouter un médecin</h1>
<form id="insert-form" (ngsubmit)="OnSubmit()" #medecinForm="ngForm">
  <div class="form-group">
    <label for="idmedecin">ID </label>
      <input #idmedecin="ngModel" id="idmedecin" class="form-control"
      type="number" placeholder="12345" [(ngModel)]="model.idmedecin" name="idmedecin" (change)="onChangeID($event)" min="0" required>
      <div [hidden]="idmedecin.valid || idmedecin.pristine"
         class="alert alert-danger">
      Un identifiant est requis
    </div>
    <div [hidden]="isvalid" class="alert alert-danger">Cet identifiant existe déjà</div>
  </div>

<div class="form-group">
<label for="prenom">Prenom</label>
  <input #prenom="ngModel" id="prenom" class="form-control"
  type="text" placeholder="Martin" [(ngModel)]="model.prenom" name="prenom" pattern="[a-zA-Z]+" required>
  <div [hidden]="prenom.valid || prenom.pristine"
     class="alert alert-danger">
  Un prenom est requis
  </div>
</div>

<div class="form-group">
  <label for="nom">Nom </label>
    <input #nom="ngModel" id="nom" class="form-control"
    type="text" placeholder="Tremblay" [(ngModel)]="model.nom" name="nom" pattern="[a-zA-Z]+"required>
    <div [hidden]="nom.valid || nom.pristine"
       class="alert alert-danger">
    Un nom est requis
  </div>
</div>

<div class="form-group">
  <label for="specialite">Spécialité</label>
  <select #specialite="ngModel" class="form-control" id="specialite"
   [(ngModel)]="model.specialite" name="specialite" required>
    <option *ngFor="let specialite of specialites" [value]="specialite">{{specialite}}</option>
  </select>
</div>

<div class="form-group">
  <label for="idservice">ID service</label>
  <select #idservice="ngModel" class="form-control" id="idservice"
   [(ngModel)]="model.idservice" name="idservice" placeholder="0" required>
    <option *ngFor="let number of numbers" [value]="number">{{number}} - {{specialites[number]}}</option>
  </select>
</div>

<div class="form-group">
  <label for="anneesexperience">Années d'expérience</label>
    <input #anneesexperience="ngModel" id="anneesexperience" class="form-control"
    type="number" placeholder="10" [(ngModel)]="model.anneesexperience" name="anneesexperience" min="0" required>
    <div [hidden]="anneesexperience.valid || anneesexperience.pristine"
       class="alert alert-danger">
    Un nombre d'année(s) d'expérience est requis
</div>

</div>
<a routerLink="/submitted">
<button mat-raised-button type="submit" class="btn btn-success" [disabled]="!medecinForm.form.valid || !isvalid " (click)="OnSubmit(); medecinForm.reset()">
  Soumettre</button>
  </a>
</form>
